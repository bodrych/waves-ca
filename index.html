<!DOCTYPE html>
<html>
<head>
	<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
	<script src="https://unpkg.com/base-58@0.0.1/Base58.js"></script>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAABFvgAARb4B0IHyYgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIpSURBVHic5du5edtAFEXhM66HqM/OBGVWexz2ohBO/PhJFJZZ3oLlNkCcP5BIYACByzmPj8fjb+Q1pKgPzjmPwBtASunjdrv9ibiOEICv8c8LCUJwB5iLl0UguAKsxcu8EdwASuJlngguADXxMi8Ec4CWeJkHgilAT7zMGsEMQCNeZolgAqAZL7NCUAewiJdZIKgCWMbLtBHUADziZZoIKgCe8TIthG6AiHiZBkIXQGS8rBehGWAP8bIehCaAPcXLWhGqAfYYL2tBqALYc7ysFqEY4AjxshqEIoAjxctKETYBjhgvK0FYBThyvGwLYRHgDPGyNYRZgDPFy5YQfgCcMV42h/AN4MzxsleEJ8AV4mVfERJcK14mCOmK8bKU0sevaZo+oy8katM0fSaA+/3+O6UUelAhYOMwDO/PP4IXQxiHYXiHl3+DF0F4xsPMF6GTI3yLh4WvwidF+BEPKz+GToYwGw8bP4dPgrAYDwU3RA6OsBoPhbfEDoqwGQ8VN0UPhlAUD5W3xQ+CUBwPDQ9Gdo5QFQ+Nj8Z2ilAdDx0PR3eG0BQPnY/Hd4LQHA8KBySCEbriQemITBBCdzwoHpJyRlCJB+Vjck4IavFgcFDSGEE1HoyOyhohqMeD4WFpZQSTeDA+Lq+EYBYPDi9MdCKYxoPTKzONCObx4PjSVCWCSzw4vzZXiOAWDwEvTm4guMZD0KuzCwju8RD48vQLQkh8+HLO4//zCWH7B6TVRCpVqUZ2AAAAAElFTkSuQmCC" />
	<link rel="stylesheet" type="text/css" href="styles.css">
	<title>Waves CA</title>
</head>
<body>
	<div id="app" class="flex-col">
		<div id="header" class="flex-row">
			<div>
				<label>Mode:</label>
				<select v-model="mode">
					<option value="user">user</option>
					<option value="admin">admin</option>
				</select>
			</div>
		</div>
		<div id="check-cert" class="flex-col bordered">
			Check certificate
			<div class="flex-row">
				<label>Type:</label>
				<select v-model="check.type">
					<option value="ID">ID</option>
					<option value="PK">PK</option>
				</select>
				<label>Data:</label>
				<input v-model="check.data" type="text" name="">
				<input class="submit button" type="submit" value="Check" @click="checkCert">
			</div>
			<div class="flex-row bordered">
				{{ check.result }}
			</div>
		</div>
		<div id="admin" class="flex-row" v-if="mode == 'admin'">
			<div id="edit-cert" class="flex-col bordered">
				Certificate edit
				<div>
					<label>ID</label>
					<input v-model="cert.id" type="number" name="">
				</div>
				<div>
					<label>PK</label>
					<input v-model="cert.owner" type="text" name="">
				</div>
				<div>
					<label>Status</label>
					<select :value="cert.status" @input="$event.target.value == 'true' ? cert.status = true : cert.status = false">
						<option value="true">true</option>
						<option value="false">false</option>
					</select>
				</div>
				<div>
					<label>Hash</label>
					<input v-model="cert.hash" type="text" name="">
				</div>
				<input class="submit button" type="submit" value="Send" @click="addCert">
			</div>
			<div id="cert-list" class="flex-col bordered">
				<label>Certificates list</label>
				<input class="submit button" type="submit" value="Update" @click="getCerts">
				<table>
					<tr>
						<td>ID</td>
						<td>Owner's PK</td>
						<td>Status</td>
						<td>Hash</td>
					</tr>
					<tr v-for="(item, index) in certs" @click="editCert(index)">
						<td>{{ item.id }}</td>
						<td>{{ item.owner }}</td>
						<td>{{ item.status }}</td>
						<td>{{ item.hash }}</td>
					</tr>
				</table>
			</div>
		</div>
		<div id="footer" class="flex-col">
			<a href="https://github.com/bodrych/waves-ca">GitHub</a>
			<a href="https://forum.wavesplatform.com/t/waves-keeper-beta/3547">Waves Keeper</a>
			<a href="https://forum.wavesplatform.com/t/the-waves-ca/3766">Forum thread</a>
			<a :href="'https://testnet.wavesexplorer.com/address/' + CA">CA: {{ CA }}</a>
		</div>
	</div>
	<script src="script.js"></script>
</body>
</html>